version: 2
models:
  - name: fct_ticket_flights
    meta:
      owner: myemail@gmail.com
    docs:
      show: true
      node_color: green
    columns:
      - name: ticket_no
        description: Номер билета (13 символов)
        constraints:
          - type: not_null
        data_type: character
      - name: flight_id
        description: Идентификатор рейса
        data_type: integer
      - name: fare_conditions
        description: Условия тарифа (эконом, бизнес, комфорт)
        data_type: character varying
      - name: amount
        description: Стоимость перелета для данного сегмента
        constraints:
          - type: check
            expression: amount > 0
        data_type: numeric
      - name: boarding_pass_exists
        data_type: text
        description: Indicates whether a boarding pass was issued for this ticket flight segment.
      - name: boarding_no
        description: Номер посадки (последовательный номер)
        data_type: character
      - name: seat_no
        description: Номер места в самолете
        data_type: character varying
      - name: load_date
        data_type: date
        description: The date when the ticket flight information was loaded into the table.
    description: >-
      This table contains ticket flight information, including a record of each segment of a journey with
      details such as the ticket number, associated flight ID, fare conditions, and amount. It is linked
      to boarding pass information by ticket number and flight identifier.
